<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <style>
    .even {
      color: #606060;
    }

    .odd {
      color: #000;
    }
  </style>
</head>

<body>
  <div id="word-container"></div>
  <script>
    var classes = ["even", "odd"]

    var data = [{
      "s": 69,
      "word": "paro"
    }, {
      "s": 62,
      "word": "tras"
    }, {
      "s": 60,
      "word": "d\u00eda"
    }, {
      "s": 60,
      "word": "cgt"
    }, {
      "s": 58,
      "word": "marcha"
    }, {
      "s": 54,
      "word": "barcelona"
    }, {
      "s": 51,
      "word": "democracia"
    }, {
      "s": 50,
      "word": "gobierno"
    }, {
      "s": 48,
      "word": "macri"
    }, {
      "s": 47,
      "word": "mujer"
    }, {
      "s": 43,
      "word": "san"
    }, {
      "s": 39,
      "word": "diario"
    }, {
      "s": 34,
      "word": "mujeres"
    }, {
      "s": 33,
      "word": "messi"
    }, {
      "s": 32,
      "word": "sancor"
    }, {
      "s": 31,
      "word": "a\u00f1os"
    }, {
      "s": 31,
      "word": "f\u00fatbol"
    }, {
      "s": 30,
      "word": "temporal"
    }, {
      "s": 29,
      "word": "argentina"
    }, {
      "s": 29,
      "word": "auto"
    }, {
      "s": 27,
      "word": "dos"
    }, {
      "s": 27,
      "word": "psg"
    }, {
      "s": 26,
      "word": "ciudad"
    }, {
      "s": 25,
      "word": "alerta"
    }, {
      "s": 24,
      "word": "hoy"
    }, {
      "s": 24,
      "word": "primera"
    }, {
      "s": 23,
      "word": "libertadores"
    }, {
      "s": 21,
      "word": "v\u00e9lez"
    }, {
      "s": 21,
      "word": "fuertes"
    }, {
      "s": 21,
      "word": "atl\u00e9tico"
    }, {
      "s": 20,
      "word": "muri\u00f3"
    }, {
      "s": 20,
      "word": "tormentas"
    }, {
      "s": 20,
      "word": "buenos"
    }, {
      "s": 20,
      "word": "mil"
    }, {
      "s": 20,
      "word": "tiene"
    }, {
      "s": 20,
      "word": "vuelve"
    }, {
      "s": 19,
      "word": "copa"
    }, {
      "s": 19,
      "word": "docentes"
    }, {
      "s": 19,
      "word": "fecha"
    }, {
      "s": 18,
      "word": "lorenzo"
    }, {
      "s": 18,
      "word": "cay\u00f3"
    }, {
      "s": 18,
      "word": "aires"
    }, {
      "s": 18,
      "word": "sigue"
    }, {
      "s": 18,
      "word": "millones"
    }, {
      "s": 17,
      "word": "carlos"
    }, {
      "s": 17,
      "word": "este"
    }, {
      "s": 17,
      "word": "semana"
    }, {
      "s": 17,
      "word": "riachuelo"
    }, {
      "s": 17,
      "word": "a\u00f1o"
    }, {
      "s": 17,
      "word": "video"
    }, {
      "s": 16,
      "word": "tres"
    }, {
      "s": 16,
      "word": "muy"
    }, {
      "s": 16,
      "word": "jueves"
    }, {
      "s": 16,
      "word": "incidentes"
    }, {
      "s": 16,
      "word": "mundial"
    }, {
      "s": 15,
      "word": "gol"
    }, {
      "s": 15,
      "word": "fotos"
    }, {
      "s": 15,
      "word": "menos"
    }, {
      "s": 15,
      "word": "primer"
    }, {
      "s": 15,
      "word": "crisis"
    }, {
      "s": 15,
      "word": "di\u00e1logo"
    }, {
      "s": 15,
      "word": "vuelo"
    }, {
      "s": 15,
      "word": "mundo"
    }, {
      "s": 15,
      "word": "partido"
    }, {
      "s": 15,
      "word": "tucum\u00e1n"
    }, {
      "s": 15,
      "word": "polic\u00eda"
    }, {
      "s": 14,
      "word": "aumento"
    }, {
      "s": 14,
      "word": "mismo"
    }, {
      "s": 14,
      "word": "\u00e9xtasis"
    }, {
      "s": 14,
      "word": "pesos"
    }, {
      "s": 14,
      "word": "rodr\u00edguez"
    }, {
      "s": 14,
      "word": "triunfo"
    }, {
      "s": 14,
      "word": "as\u00ed"
    }, {
      "s": 14,
      "word": "denunci\u00f3"
    }, {
      "s": 14,
      "word": "menem"
    }, {
      "s": 14,
      "word": "godoy"
    }, {
      "s": 14,
      "word": "cruz"
    }, {
      "s": 13,
      "word": "guatemala"
    }, {
      "s": 13,
      "word": "durante"
    }, {
      "s": 13,
      "word": "ex"
    }, {
      "s": 13,
      "word": "todos"
    }, {
      "s": 13,
      "word": "\u00e1rboles"
    }, {
      "s": 13,
      "word": "pa\u00eds"
    }, {
      "s": 13,
      "word": "plan"
    }, {
      "s": 13,
      "word": "ser"
    }, {
      "s": 13,
      "word": "audiencia"
    }, {
      "s": 13,
      "word": "presi\u00f3n"
    }, {
      "s": 13,
      "word": "gas"
    }, {
      "s": 13,
      "word": "gremios"
    }, {
      "s": 13,
      "word": "30"
    }, {
      "s": 13,
      "word": "presidente"
    }, {
      "s": 13,
      "word": "intendenta"
    }, {
      "s": 13,
      "word": "nazarena"
    }, {
      "s": 13,
      "word": "d\u00edas"
    }, {
      "s": 13,
      "word": "publicista"
    }, {
      "s": 12,
      "word": "otra"
    }, {
      "s": 12,
      "word": "fin"
    }, {
      "s": 12,
      "word": "abril"
    }, {
      "s": 12,
      "word": "camp"
    }, {
      "s": 12,
      "word": "bonaerenses"
    }, {
      "s": 12,
      "word": "50"
    }, {
      "s": 12,
      "word": "nou"
    }, {
      "s": 12,
      "word": "pe\u00f1a"
    }, {
      "s": 12,
      "word": "ministro"
    }, {
      "s": 12,
      "word": "pobreza"
    }, {
      "s": 12,
      "word": "motochorros"
    }, {
      "s": 12,
      "word": "trabajo"
    }, {
      "s": 12,
      "word": "buscan"
    }, {
      "s": 12,
      "word": "provincia"
    }, {
      "s": 12,
      "word": "kilos"
    }, {
      "s": 12,
      "word": "incendio"
    }, {
      "s": 12,
      "word": "frigerio"
    }, {
      "s": 12,
      "word": "agua"
    }, {
      "s": 12,
      "word": "despu\u00e9s"
    }, {
      "s": 11,
      "word": "seg\u00fan"
    }, {
      "s": 11,
      "word": "indio"
    }, {
      "s": 11,
      "word": "plantas"
    }, {
      "s": 11,
      "word": "1"
    }, {
      "s": 11,
      "word": "naci\u00f3n"
    }, {
      "s": 11,
      "word": "fuerte"
    }, {
      "s": 11,
      "word": "ri\u00f1\u00f3n"
    }, {
      "s": 11,
      "word": "recibe"
    }, {
      "s": 11,
      "word": "espa\u00f1a"
    }, {
      "s": 11,
      "word": "2017"
    }, {
      "s": 11,
      "word": "termin\u00f3"
    }, {
      "s": 11,
      "word": "va"
    }, {
      "s": 11,
      "word": "expoagro"
    }, {
      "s": 11,
      "word": "muerte"
    }, {
      "s": 10,
      "word": "medidas"
    }, {
      "s": 10,
      "word": "hasta"
    }, {
      "s": 10,
      "word": "hist\u00f3rica"
    }, {
      "s": 10,
      "word": "clases"
    }, {
      "s": 10,
      "word": "bal"
    }, {
      "s": 10,
      "word": "100"
    }, {
      "s": 10,
      "word": "antes"
    }, {
      "s": 10,
      "word": "estudiantes"
    }, {
      "s": 10,
      "word": "empate"
    }, {
      "s": 10,
      "word": "-\ndiario"
    }, {
      "s": 10,
      "word": "brasil"
    }, {
      "s": 10,
      "word": "personas"
    }, {
      "s": 10,
      "word": "casi"
    }, {
      "s": 10,
      "word": "paz"
    }, {
      "s": 10,
      "word": "4"
    }, {
      "s": 10,
      "word": "flamengo"
    }, {
      "s": 10,
      "word": "todo"
    }, {
      "s": 10,
      "word": "confirm\u00f3"
    }, {
      "s": 10,
      "word": "pastillas"
    }, {
      "s": 10,
      "word": "hombres"
    }, {
      "s": 10,
      "word": "cultura"
    }, {
      "s": 10,
      "word": "docente"
    }, {
      "s": 10,
      "word": "fede"
    }, {
      "s": 10,
      "word": "$"
    }, {
      "s": 10,
      "word": "c\u00f3rdoba"
    }, {
      "s": 10,
      "word": "capital"
    }, {
      "s": 10,
      "word": "p\u00fablica"
    }, {
      "s": 10,
      "word": "mendoza"
    }, {
      "s": 10,
      "word": "vuelta"
    }, {
      "s": 10,
      "word": "afa"
    }, {
      "s": 10,
      "word": "conflicto"
    }, {
      "s": 10,
      "word": "roberto"
    }, {
      "s": 10,
      "word": "dijo"
    }, {
      "s": 10,
      "word": "frente"
    }, {
      "s": 10,
      "word": "hubo"
    }, {
      "s": 10,
      "word": "nacional"
    }, {
      "s": 10,
      "word": "cu\u00f1ada"
    }, {
      "s": 10,
      "word": "bum"
    }, {
      "s": 10,
      "word": "clasificaci\u00f3n"
    }, {
      "s": 9,
      "word": "mi"
    }, {
      "s": 9,
      "word": "meteorol\u00f3gico"
    }, {
      "s": 9,
      "word": "foto"
    }, {
      "s": 9,
      "word": "elecciones"
    }, {
      "s": 9,
      "word": "guerra"
    }, {
      "s": 9,
      "word": "hincha"
    }, {
      "s": 9,
      "word": "ir"
    }, {
      "s": 9,
      "word": "lluvias"
    }, {
      "s": 9,
      "word": "violencia"
    }, {
      "s": 9,
      "word": "domingo"
    }, {
      "s": 9,
      "word": "cuarto"
    }, {
      "s": 9,
      "word": "wikileaks"
    }, {
      "s": 9,
      "word": "muertos"
    }, {
      "s": 9,
      "word": "riesgo"
    }, {
      "s": 9,
      "word": "fabi\u00e1n"
    }, {
      "s": 9,
      "word": "derechos"
    }, {
      "s": 9,
      "word": "laurita"
    }, {
      "s": 9,
      "word": "internacional"
    }, {
      "s": 9,
      "word": "taxi"
    }, {
      "s": 9,
      "word": "todav\u00eda"
    }, {
      "s": 9,
      "word": "volvi\u00f3"
    }, {
      "s": 9,
      "word": "dej\u00f3"
    }, {
      "s": 9,
      "word": "cada"
    }, {
      "s": 9,
      "word": "cinco"
    }, {
      "s": 9,
      "word": "9"
    }, {
      "s": 9,
      "word": "goleado"
    }, {
      "s": 9,
      "word": "cia"
    }, {
      "s": 9,
      "word": "mauricio"
    }, {
      "s": 9,
      "word": "g\u00e9nero"
    }, {
      "s": 9,
      "word": "desaparecido"
    }, {
      "s": 9,
      "word": "tapia"
    }, {
      "s": 9,
      "word": "uca"
    }, {
      "s": 9,
      "word": "silvia"
    }];

    var stopwords = [
      "a", "ante", "bajo", "cabe", "con", "contra", "de", "desde",
      "durante", "en", "entre", "hacia", "hasta", "mediante", "para", "por",
      "seg\u00fan", "sin", "so", "sobre", "tras", "versus", "v\u00eda"
    ];
    var wordContainer = d3.select("#word-container");

    var scale = d3.scalePow()
      .domain([0, 100])
      .range([0, 10]);

    wordContainer.data(data).enter().
    // filtering first to avoid generating empty elements in the DOM
    filter(function(d, idx) {
      return stopwords.indexOf(d.word) == -1;
    }).
    append("span").
    // sort words first by their quantity (in descending order),
    // and then lexicographically
    sort(function(d1, d2) {
      var comp = d3.descending(d1.s, d2.s);
      if (comp != 0) {
        return comp;
      }
      return d3.ascending(d1.word, d2.word);
    }).
    text(function(d, idx) {
      return d.word + " "
    }).
    attr("class", function(d, idx) {
      return classes[idx % 2];
    }).
    style("font-size", function(d, idx) {
      // return d.s / 20 + "em";
      return scale(d.s) + "em";
    });
  </script>
</body>

</html>
